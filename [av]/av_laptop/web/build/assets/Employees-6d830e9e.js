import{c as I,u as C,s as M,r,j as s,e as w,L as z,K as A,A as m,f as T,Z as F}from"./index-30f42a89.js";import{u as L,F as $,I as R}from"./index-572d1837.js";import{s as E}from"./sortBy-e0864bc9.js";import{T as f}from"./Tooltip-9bb34c92.js";import{I as G}from"./IconUserPlus-33f1d021.js";import{T as N}from"./TextInput-0d64c543.js";import{B as _}from"./Badge-5a2eb96f.js";import{G as O}from"./Group-b310a18c.js";import{I as Q}from"./IconTrash-29367d2b.js";import{M as W}from"./ModalMenu-4d728021.js";var Z=I("cash","IconCash",[["path",{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2",key:"svg-2"}]]),q=I("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);const H=({profiles:t,handleEdit:b,handleBonus:g,handleFire:x,handleHire:l})=>{const{lang:o}=C(M),[c,v]=r.useState(!0),[u,j]=r.useState(1),[d,y]=r.useState({columnAccessor:"name",direction:"asc"}),[a,n]=r.useState(E(t,"name")),[h,B]=r.useState(""),[k]=L(h,200),p=20,P=t.slice(0,p);r.useEffect(()=>{(async()=>{const i=(u-1)*p,D=i+p;n(t.slice(i,D)),setTimeout(()=>{v(!1)},250)})()},[t]),r.useEffect(()=>{n(P.filter(({name:e})=>!(k!==""&&!`${e} `.toLowerCase().includes(k.trim().toLowerCase()))))},[k]),r.useEffect(()=>{const e=E(t,d.columnAccessor);n(d.direction==="desc"?e.reverse():e)},[d]),r.useEffect(()=>{const e=(u-1)*p,i=e+p;n(t.slice(e,i))},[u]);const S=e=>{T("av_laptop","copy",e)};return s.jsx(w,{className:"boosting-leaderboard",children:c?s.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:s.jsx(z,{visible:c,overlayBlur:2,overlayColor:"rgba(20, 21, 23, 1)"})}):s.jsx($,{withBorder:!0,records:a,columns:[{accessor:"",render:e=>s.jsx(A,{src:e.photo,alt:e.name,size:50,radius:10}),title:s.jsx(s.Fragment,{children:s.jsx(f,{label:o.business.hire_employee,color:"dark.5",children:s.jsx(m,{color:"teal.9",variant:"filled",onClick:e=>{e.stopPropagation(),l()},children:s.jsx(G,{size:16})})})}),width:65},{accessor:"name",render:({name:e})=>`${e}`,filter:s.jsx(N,{label:o.business.search_user,description:o.business.search_user_description,placeholder:o.business.search,icon:s.jsx(R,{size:16}),value:h,onChange:e=>B(e.currentTarget.value)}),filtering:h!=="",sortable:!0},{title:o.business.grade,accessor:"grade",render:e=>`${e.grade.name}`,sortable:!0},{title:o.business.phone,accessor:"phone",render:e=>s.jsx("span",{className:"cursor-field",onClick:()=>{S(e.phone)},children:e.phone})},{title:o.business.email,accessor:"email",render:e=>s.jsx("span",{className:"cursor-field",onClick:()=>{S(e.email)},children:e.email})},{title:o.business.generated,accessor:"generated",sortable:!0,render:({generated:e})=>e?`$${e.toFixed(2)}`:"$0"},{title:o.business.last_seen,accessor:"lastSeen",sortable:!0},{title:o.business.status,accessor:"online",sortable:!0,render:({online:e})=>e?s.jsx(s.Fragment,{children:s.jsx(_,{color:"teal.3",children:o.business.on_duty})}):s.jsx(s.Fragment,{children:s.jsx(_,{color:"red.3",children:o.business.off_duty})})},{accessor:"actions",render:e=>s.jsxs(O,{spacing:4,position:"right",noWrap:!0,children:[s.jsx(f,{label:o.business.edit_employee,color:"dark.5",children:s.jsx(m,{color:"blue.2",onClick:i=>{i.stopPropagation(),b(e)},children:s.jsx(q,{size:16})})}),s.jsx(f,{label:o.business.bonus,color:"dark.5",children:s.jsx(m,{color:"teal.2",onClick:i=>{i.stopPropagation(),g(e.identifier)},children:s.jsx(Z,{size:16})})}),s.jsx(f,{label:o.business.fire_employee,color:"dark.5",children:s.jsx(m,{color:"red.2",onClick:i=>{i.stopPropagation(),x(e)},children:s.jsx(Q,{size:16})})})]})}],sortStatus:d,onSortStatusChange:y,totalRecords:t.length,recordsPerPage:p,page:u,onPageChange:e=>j(e)})})};const oe=()=>{const{lang:t}=C(M),{employees:b,grades:g}=C(F),[x,l]=r.useState(!1),[o,c]=r.useState({}),v=a=>{const n=[];g.map(h=>n.push({value:h.grade,label:h.gradeLabel})),c({title:`${a.name}`,options:[{type:"image",image:a.photo,title:a.name,height:120,style:{marginTop:"5px"}},{name:"grade",type:"select",title:t.business.grade,default:String(a.grade.level),options:n},{name:"photo",type:"text",title:t.business.photo,icon:"fa-regular fa-image",default:a.photo},{name:"email",type:"text",title:t.business.email,icon:"fa-solid fa-at",default:a.email}],button:t.business.confirm,extraData:{event:"updateEmployee",identifier:a.identifier}}),l(!0)},u=a=>{c({title:"Give Bonus",options:[{name:"bonus",type:"number",title:t.business.amount,icon:"fa-solid fa-comment-dollar"}],button:t.business.email,extraData:{event:"giveBonus",identifier:a}}),l(!0)},j=a=>{c({title:t.business.fire_employee,options:[{type:"info",description:`${t.business.confirm_fire}`,style:{marginTop:"10px",fontWeight:"500",textAlign:"center"}}],button:"Confirm",extraData:{event:"fireEmployee",identifier:a.identifier}}),l(!0)},d=()=>{c({title:t.business.hire_employee,options:[{name:"playerId",type:"number",title:t.business.player_id,icon:"fa-solid fa-user-plus"}],button:t.business.confirm,extraData:{event:"addEmployee"}}),l(!0)},y=a=>{var n;(n=a==null?void 0:a.extraData)!=null&&n.event&&T("av_restaurants",a.extraData.event,a),l(!1)};return s.jsxs(s.Fragment,{children:[x&&s.jsx(W,{callback:y,data:o}),s.jsx(H,{profiles:b,handleEdit:v,handleBonus:u,handleFire:j,handleHire:d})]})};export{oe as default};

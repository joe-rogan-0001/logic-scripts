import{u as E,s as L,r as t,j as o,e as P,L as w,f as C}from"./index-30f42a89.js";import{u as I,F as T,I as _}from"./index-572d1837.js";import{s as m}from"./sortBy-e0864bc9.js";import{T as A}from"./TextInput-0d64c543.js";const B=s=>{let c="9:99:99";return s<=0?c:new Date(s*1e3).toISOString().slice(11,19)},N=()=>{const{lang:s}=E(L),[c,b]=t.useState(!0),[a,h]=t.useState([]),[n,p]=t.useState(1),[i,S]=t.useState({columnAccessor:"name",direction:"asc"}),[v,l]=t.useState(m(a,"name")),[d,x]=t.useState(""),[f]=I(d,200),r=20,y=a.slice(0,r);return t.useEffect(()=>{(async()=>{const u=await C("av_boosting","getProfiles");h(u);const g=(n-1)*r,j=g+r;l(u.slice(g,j)),setTimeout(()=>{b(!1)},250)})()},[]),t.useEffect(()=>{l(y.filter(({name:e})=>!(f!==""&&!`${e} `.toLowerCase().includes(f.trim().toLowerCase()))))},[f]),t.useEffect(()=>{const e=m(a,i.columnAccessor);l(i.direction==="desc"?e.reverse():e)},[i]),t.useEffect(()=>{const e=(n-1)*r,u=e+r;l(a.slice(e,u))},[n]),o.jsx(P,{className:"boosting-leaderboard",children:c?o.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:o.jsx(w,{visible:c,overlayBlur:2,overlayColor:"rgba(20, 21, 23, 1)"})}):o.jsx(T,{withBorder:!1,records:v,columns:[{accessor:"name",render:({name:e})=>`${e}`,filter:o.jsx(A,{label:s.boosting.search_user,description:s.boosting.search_user_description,placeholder:s.boosting.search,icon:o.jsx(_,{size:16}),value:d,onChange:e=>x(e.currentTarget.value)}),filtering:d!=="",sortable:!0},{title:s.boosting.level,accessor:"level",sortable:!0},{accessor:"hacks",sortable:!0},{accessor:"deliveries",sortable:!0},{accessor:"time",title:s.boosting.time,render:({time:e})=>`${B(e)}`,sortable:!0}],sortStatus:i,onSortStatusChange:S,totalRecords:a.length,recordsPerPage:r,page:n,onPageChange:e=>p(e)})})};export{N as default};

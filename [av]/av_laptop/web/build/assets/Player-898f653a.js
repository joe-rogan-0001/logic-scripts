import{b as m,u as h,d as x,j as P,ab as c,h as i,i as g}from"./index-28ac6c93.js";import{R as S}from"./youtube-40cf48e7.js";const l=a=>{let s=parseInt(a,10),e=Math.floor(s/3600),r=Math.floor((s-e*3600)/60),n=s-e*3600-r*60;return e<10&&(e="0"+e),r<10&&(r="0"+r),n<10&&(n="0"+n),r+":"+n},v=({setCurrentTime:a,volume:s})=>{const e=m(),{isPlaying:r,currentSong:n,currentIndex:d,currentRecordLabel:u}=h(x),p=t=>{n&&e(i({isPlaying:t}))},f=({playedSeconds:t})=>{a(l(t))},y=()=>{if(!n)return;let t=Number(d)+1,o=u.songs[t];if(!o){e(i({isPlaying:!1})),e(g({currentSong:null,currentIndex:null,artist:"",song:"",cover:!1})),e(c({totalTime:l(0)})),a(l(0));return}t<=u.songs.length&&(e(g({currentSong:o.url,currentIndex:t,artist:o.artist,song:o.title,cover:o.cover})),e(i({isPlaying:!0})))};return P.jsx(S,{url:n,playing:r,width:30,height:20,volume:s/100,onEnded:y,onReady:()=>{p(!0)},onProgress:f,onDuration:t=>{e(c({totalTime:l(t)}))},playsinline:!0,style:{opacity:"0.0"}})};export{v as default};

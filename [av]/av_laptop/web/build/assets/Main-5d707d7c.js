import{c as C,u as S,s as L,r,j as e,T as g,w as k,B as T,f as w,x as I,L as R}from"./index-30f42a89.js";import{S as A}from"./Stack-c0b3be9d.js";import{S as M}from"./Select-811cb72a.js";import{T as m}from"./Tabs-ee4e508f.js";var D=C("arrows-transfer-down","IconArrowsTransferDown",[["path",{d:"M17 3v6",key:"svg-0"}],["path",{d:"M10 18l-3 3l-3 -3",key:"svg-1"}],["path",{d:"M7 21v-18",key:"svg-2"}],["path",{d:"M20 6l-3 -3l-3 3",key:"svg-3"}],["path",{d:"M17 21v-2",key:"svg-4"}],["path",{d:"M17 15v-2",key:"svg-5"}]]),E=C("cash-banknote","IconCashBanknote",[["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M18 12l.01 0",key:"svg-2"}],["path",{d:"M6 12l.01 0",key:"svg-3"}]]),z=C("credit-card","IconCreditCard",[["path",{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M7 15l.01 0",key:"svg-2"}],["path",{d:"M11 15l2 0",key:"svg-3"}]]),$=C("currency-ethereum","IconCurrencyEthereum",[["path",{d:"M6 12l6 -9l6 9l-6 9z",key:"svg-0"}],["path",{d:"M6 12l6 -3l6 3l-6 2z",key:"svg-1"}]]),B=C("wallet","IconWallet",[["path",{d:"M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M20 12v4h-4a2 2 0 0 1 0 -4h4",key:"svg-1"}]]);const _=(s,a)=>{const c=[];return s.map(i=>{i[a]&&c.push(i.label)}),c},b=(s,a)=>a.find(c=>c.label===s),F=({crypto:s})=>{const{lang:a}=S(L),[c,i]=r.useState(null),[t,d]=r.useState([]),[h,l]=r.useState(0),[x,u]=r.useState(!0),p=_(s,"canBuy"),f=n=>{const j=b(n,s);d(j),i(n)},y=n=>{if(u(!0),Number(parseInt(n))<=0){u(!0);return}if(!Number(parseInt(n))){l(0);return}l(Number(parseInt(n))),u(!1)},v=()=>{w("av_laptop","buyCrypto",{crypto:t,amount:h})};return r.useEffect(()=>{if(t!=null&&t.label){const n=b(t==null?void 0:t.label,s);d(n),i(t==null?void 0:t.label)}},[s]),e.jsxs(A,{spacing:"md",h:300,sx:{textAlign:"center",alignItems:"center",justifyContent:"center"},children:[e.jsx(g,{order:2,color:"violet.3",children:a.cupcake.buy_title}),e.jsx(M,{placeholder:a.cupcake.choose_one,searchable:!0,nothingFound:a.cupcake.no_options,data:p,sx:{display:"flex",width:"200px",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},onChange:n=>{f(n)}}),c?e.jsxs(e.Fragment,{children:[e.jsxs(g,{order:6,sx:{display:"block",width:"100%"},children:[e.jsx("a",{style:{display:"block"},children:`${a.cupcake.available} ${t.available} ${c}`}),e.jsx("a",{children:`1 ${c} = ${t.buy} ${t.buyAccountLabel}`})]}),e.jsx(k,{icon:e.jsx($,{}),placeholder:a.cupcake.amount,style:{display:"flex",width:"200px",justifyContent:"center",marginLeft:"auto",marginRight:"auto"},onChange:n=>{y(n.target.value)},type:"number",min:0}),e.jsx(g,{order:6,children:`${a.cupcake.total} ${h*t.buy} ${t.buyAccountLabel}`}),e.jsx(T,{sx:{width:"250px",marginLeft:"auto",marginRight:"auto"},disabled:x,onClick:v,children:a.cupcake.confirm})]}):null]})},P=({crypto:s})=>{const{lang:a}=S(L),[c,i]=r.useState(null),[t,d]=r.useState(null),[h,l]=r.useState(0),[x,u]=r.useState(!0),[p,f]=r.useState(0),y=_(s,"canTransfer"),v=o=>{const N=b(o,s);d(N),i(o)},n=o=>{if(u(!0),!(Number(parseInt(o))<=0)&&!(Number(parseInt(o))>t.available)){if(!Number(parseInt(o))){l(0);return}l(Number(parseInt(o))),u(!1)}},j=()=>{w("av_laptop","transferCrypto",{crypto:t,amount:h,target:p})};return r.useEffect(()=>{if(t!=null&&t.label){const o=b(t==null?void 0:t.label,s);d(o),i(t==null?void 0:t.label)}},[s]),e.jsxs(A,{spacing:"md",h:300,sx:{textAlign:"center",alignItems:"center",justifyContent:"center"},children:[e.jsx(g,{order:2,color:"violet.3",children:"Transfer Crypto"}),e.jsx(M,{placeholder:a.cupcake.choose_one,searchable:!0,nothingFound:a.cupcake.no_options,data:y,sx:{display:"flex",width:"200px",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},onChange:o=>{v(o)}}),c?e.jsxs(e.Fragment,{children:[e.jsx(g,{order:6,children:`${a.cupcake.available} ${t.available} ${c}`}),e.jsx(k,{icon:e.jsx(B,{}),placeholder:a.cupcake.player_id,style:{display:"flex",width:"200px",justifyContent:"center",marginLeft:"auto",marginRight:"auto"},type:"number",onChange:o=>{f(o.target.value)}}),e.jsx(k,{icon:e.jsx($,{}),placeholder:a.cupcake.amount,style:{display:"flex",width:"200px",justifyContent:"center",marginLeft:"auto",marginRight:"auto"},type:"number",onChange:o=>{n(o.target.value)}}),e.jsx(T,{sx:{width:"250px",marginLeft:"auto",marginRight:"auto"},disabled:x,onClick:j,children:a.cupcake.confirm})]}):null]})},G=({crypto:s})=>{const{lang:a}=S(L),[c,i]=r.useState(null),[t,d]=r.useState([]),[h,l]=r.useState(0),[x,u]=r.useState(!0),p=_(s,"canSell"),f=n=>{const j=b(n,s);d(j),i(n)},y=n=>{if(u(!0),!(Number(parseInt(n))<=0)&&!(Number(parseInt(n))>t.available)){if(!Number(parseInt(n))){l(0);return}l(Number(parseInt(n))),u(!1)}},v=()=>{w("av_laptop","sellCrypto",{crypto:t,amount:h})};return r.useEffect(()=>{if(t!=null&&t.label){const n=b(t==null?void 0:t.label,s);d(n),i(t==null?void 0:t.label)}},[s]),e.jsxs(A,{spacing:"md",h:300,sx:{textAlign:"center",alignItems:"center",justifyContent:"center"},children:[e.jsx(g,{order:2,color:"violet.3",children:a.cupcake.sell_title}),e.jsx(M,{placeholder:a.cupcake.choose_one,searchable:!0,nothingFound:a.cupcake.no_options,data:p,sx:{display:"flex",width:"200px",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},onChange:n=>{f(n)}}),c?e.jsxs(e.Fragment,{children:[e.jsx(g,{order:6,children:`${a.cupcake.available} ${t.available} ${c}`}),e.jsx(k,{icon:e.jsx($,{}),placeholder:a.cupcake.amount,style:{display:"flex",width:"200px",justifyContent:"center",marginLeft:"auto",marginRight:"auto"},onChange:n=>{y(n.target.value)},type:"number"}),e.jsx(g,{order:6,children:`${a.cupcake.you_receive} ${h*t.sell} ${t.sellAccountLabel}`}),e.jsx(T,{sx:{width:"250px",marginLeft:"auto",marginRight:"auto"},disabled:x,onClick:v,children:a.cupcake.confirm})]}):null]})};const H=()=>{const{lang:s}=S(L),[a,c]=r.useState([]),[i,t]=r.useState(!0),[d,h]=r.useState("buy"),[l,x]=r.useState(null);return I("updateCupcake",u=>{c(u)}),r.useEffect(()=>{(async()=>{const p=await w("av_laptop","getCosmoData");x(p.options),c(p.cryptoList),h(p.defaultTab),t(!1)})()},[]),e.jsx("div",{className:"main-container",children:i?e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%"},children:e.jsx(R,{visible:i,overlayBlur:2,overlayColor:"rgba(20, 21, 23, 1)"})}):e.jsx("div",{className:"cupcake-container",children:e.jsxs(m,{defaultValue:d,sx:{width:"100%"},children:[e.jsxs(m.List,{children:[(l==null?void 0:l.buy)&&e.jsx(m.Tab,{value:"buy",icon:e.jsx(z,{size:"0.8rem"}),children:s.cupcake.buy_tab}),(l==null?void 0:l.transfer)&&e.jsx(m.Tab,{value:"transfer",icon:e.jsx(D,{size:"0.8rem"}),children:s.cupcake.transfer_tab}),(l==null?void 0:l.sell)&&e.jsx(m.Tab,{value:"sell",icon:e.jsx(E,{size:"0.8rem"}),children:s.cupcake.sell_tab})]}),e.jsx(m.Panel,{value:"buy",pt:"xs",children:e.jsx(F,{crypto:a})}),e.jsx(m.Panel,{value:"transfer",pt:"xs",children:e.jsx(P,{crypto:a})}),e.jsx(m.Panel,{value:"sell",pt:"xs",children:e.jsx(G,{crypto:a})})]})})})};export{H as default};

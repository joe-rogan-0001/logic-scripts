import{j as e,T as l,u,s as $,y as w,B as v,f as C,r as n,x as T,L as W}from"./index-30f42a89.js";import{P as A}from"./Progress-cd2bfaad.js";import{F as b}from"./Flex-a3f901b7.js";import{B as P}from"./Badge-5a2eb96f.js";const E=({level1:i,level2:o,progress:c})=>e.jsxs("div",{className:"progressbar-container",children:[e.jsx("span",{children:e.jsx(l,{order:6,children:`Lvl. ${i}`})}),e.jsx("span",{className:"progressbar-meth",children:e.jsx(A,{value:c,size:"sm",radius:"sm",color:"blue.6"})}),e.jsx("span",{children:e.jsx(l,{order:6,children:`Lvl. ${o}`})})]}),M=({ownedProducts:i,availableProducts:o,currentLevel:c,setCurrentCrypto:p})=>{const{lang:t}=u($),{serial:g}=u(w),x=async(s,a,h)=>{const d=await C("av_meth","methButton",{action:s,productSerial:a,account:h,serial:g});p(d)};return e.jsxs("div",{className:"products-container",children:[i.map((s,a)=>e.jsxs("span",{className:"product",children:[e.jsxs(b,{gap:"1px",justify:"flex-start",align:"flex-start",direction:"column",wrap:"wrap",children:[e.jsxs(l,{order:5,children:[`${t.meth.item}: `,e.jsx("a",{style:{fontWeight:"400"},children:s.name})]}),e.jsxs(l,{order:5,children:[`${t.meth.renew}: `,e.jsx("a",{style:{fontWeight:"400"},children:`${s.renewPrice} ${s.crypto}`})]}),e.jsxs(l,{order:5,children:[`${t.meth.due}: `,e.jsx("a",{style:{fontWeight:"400"},children:`${s.days} ${t.meth.days}`})]})]}),e.jsx("span",{style:{display:"inline-flex",right:"0",textAlign:"right",alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:"10px"},children:e.jsx(v,{onClick:()=>{x(s.action,s.serial,s.account)},children:t.meth.renew})})]},a)),o.map((s,a)=>e.jsx("span",{children:c>=s.level?e.jsxs("span",{className:"product",children:[e.jsxs(b,{gap:"1px",justify:"flex-start",align:"flex-start",direction:"column",wrap:"wrap",children:[e.jsxs(l,{order:5,children:[`${t.meth.item}: `,e.jsx("a",{style:{fontWeight:"400"},children:s.label})]}),e.jsxs(l,{order:5,children:[`${t.meth.price}: `,e.jsx("a",{style:{fontWeight:"400"},children:s.buyPrice})]})]}),e.jsx("span",{style:{display:"inline-flex",right:"0",textAlign:"right",alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:"10px"},children:e.jsx(v,{onClick:()=>{x("buy",s.name,s.account)},children:t.meth.buy_button})})]},a):null},s.name))]})};const _=()=>{const{lang:i}=u($),{serial:o}=u(w),[c,p]=n.useState(!0),[t,g]=n.useState("None"),[x,s]=n.useState([]),[a,h]=n.useState(0),[d,j]=n.useState(0),[L,N]=n.useState([]),[S,f]=n.useState(0);let m="Max";return m=d+1,m>5&&(m="Max"),T("refreshProducts",y=>{s(y)}),n.useEffect(()=>{(async()=>{const r=await C("av_meth","getMethData",{identifier:o});if(g(r.strain.name||""),s(r.ownedProducts),N(r.availableProducts),f(r.crypto.amount||0),r.strain.level/100<1&&(j(0),h(parseInt(r.strain.level))),r.strain.level>=100){const B=r.strain.level/100,I=r.strain.level%100;j(parseInt(B)),h(parseInt(I))}r.strain.level>=500&&(j(5),h(100)),setTimeout(()=>{p(!1)},250)})()},[]),e.jsx(e.Fragment,{children:c?e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%"},children:e.jsx(W,{visible:c,overlayBlur:2,overlayColor:"rgba(20, 21, 23, 1)"})}):e.jsx("div",{className:"meth-main",children:e.jsxs("div",{className:"meth-container",children:[e.jsxs("span",{style:{marginLeft:"5px",marginTop:"10px"},children:[e.jsx(P,{color:"teal.1",sx:{marginTop:"10px"},children:`${i.meth.strain}: ${t}`}),e.jsx(P,{color:"blue.1",sx:{marginLeft:"5px"},children:`${i.meth.crypto}: ${S}`})]}),e.jsx(E,{level1:d,level2:m,progress:a}),e.jsx(M,{ownedProducts:x,availableProducts:L,currentLevel:d,setCurrentCrypto:f})]})})})};export{_ as default};
